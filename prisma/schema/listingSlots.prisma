model ListingSlot {
  id               String          @id @default(uuid()) @map("slot_id")
  listingId        String          @map("listing_id")
  variantId        String?         @map("variant_id")
  basePrice        Int             @map("base_price")
  totalCapacity    Int             @map("total_capacity")
  availableCount   Int             @map("available_count")
  isActive         Boolean         @default(true) @map("is_active")
  createdAt        DateTime        @default(now()) @map("created_at")
  endTime          String?         @map("end_time")
  slotDate         DateTime?       @map("slot_date")
  slotDefinitionId String?         @map("slot_definition_id")
  startTime        String?         @map("start_time")
  batchEndDate     DateTime?       @map("batch_end_date")
  batchStartDate   DateTime?       @map("batch_start_date")
  formatType       String?         @map("format_type")
  bookings         Booking[]
  listing          Listing         @relation("ListingToSlot", fields: [listingId], references: [id], onDelete: Cascade)
  slotDefinition   SlotDefinition? @relation("SlotDefinitionToSlot", fields: [slotDefinitionId], references: [id], onDelete: Cascade)
  variant          ListingVariant? @relation("VariantToSlot", fields: [variantId], references: [id], onDelete: Cascade)

  // reschedule relations
  reschedulesAsOldBatch Reschedule[] @relation("RescheduleOldBatch")
  reschedulesAsNewBatch Reschedule[] @relation("RescheduleNewBatch")
  reschedulesAsOldSlot  Reschedule[] @relation("RescheduleOldSlot")
  reschedulesAsNewSlot  Reschedule[] @relation("RescheduleNewSlot")

  @@index([listingId, variantId])
  @@map("listing_slots")
}
